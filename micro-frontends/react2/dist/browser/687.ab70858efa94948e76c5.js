"use strict";(self.webpackChunk_alicante_microfrontends_react2=self.webpackChunk_alicante_microfrontends_react2||[]).push([[687],{959:(n,e,t)=>{t.r(e),t.d(e,{_:()=>r,configureRuntime:()=>m});var r={};t.r(r),t.d(r,{configureMount:()=>l,createRemoteName:()=>d,dedupeSlash:()=>v,deleteTrailingSlash:()=>f,getDefaultPathname:()=>s,getRemoteBasename:()=>w,getRemoteUrl:()=>g,isObject:()=>h,isPromise:()=>p,loadModule:()=>a,loadScript:()=>o});var o=function(n){return new Promise((function(e,t){var r=document.createElement("script"),o=document.head;r.src=n,r.async=!0,r.onload=function(){o.removeChild(r),e()},r.onerror=function(){o.removeChild(r),t(new Error("Failed to load script ".concat(n)))},o.appendChild(r)}))},i=t(163);function a(n,e){return void 0===e&&(e="."),(0,i.__awaiter)(this,void 0,void 0,(function(){var r;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return(null==(r=null===window||void 0===window?void 0:window[n])?void 0:r.init)&&(null==r?void 0:r.get)?[4,t.I("default")]:[3,4];case 1:return o.sent(),[4,r.init(t.S.default)];case 2:return o.sent(),[4,r.get(e)];case 3:return[2,o.sent()()];case 4:return[2,void 0]}}))}))}var u=new Map,c=new Set,s=function(n){return n&&"undefined"!=typeof window?window.location.pathname:"/"},l=function(n){var e,t=n.el,r=n.packageName,o=n.unmount,i=n.runtime,a=n.render,s=n.isSelfHosted,l=void 0!==s&&s,d=n.onBeforeMount,f=n.initialState,v=n.cleanups,g=void 0===v?[]:v,w=n.log;function p(n){u.set(r,n)}if(t)try{var m=[],_=[];c.has(r)||(p(f),c.add(r));var y=null==d?void 0:d({runtime:i,isSelfHosted:l,initialState:u.get(r),updateInitialState:p,onBeforeUnmount:function(n){m.push(n)},onUnmounted:function(n){_.push(n)}});if(y&&!h(y))throw new Error("onBeforeMount must return an object or void");a({appProps:y}),(g=g.concat(m)).push(o),g=g.concat(_)}catch(n){null==w||w(n),t.innerText="Error: ".concat(null!==(e=n.message)&&void 0!==e?e:n)}return{unmount:function(){return g.forEach((function(n){return n()}))}}},d=function(n){return"_".concat(n.replace(/[^a-z0-9+]+/gi,"_"))},f=function(n){return n.replace(/\/+$/g,"")},v=function(n){return n.replace(/\/{2,}/g,"/")},g=function(n){var e=n.origin,t=n.packageName,r=n.version,o=void 0===r?"latest":r,i=n.target,a=void 0===i?"browser":i;return"".concat(f(e)).concat(w({packageName:t,version:o}),"/").concat(a,"/remoteEntry.js")};function w(n){var e=n.packageName,t=n.version;return"/".concat(d(e),"/").concat(t)}var p=function(n){return"[object Promise]"==={}.toString.call(n)},h=function(n){return"[object Object]"==={}.toString.call(n)},m=function(n){if(!n)throw new Error("default state is required to configure a runtime");return function(e){var t=e.context,r=e.onError,o=function(e){var o=void 0===e?{}:e,a=o.initialState,u=o.request;return function(n){return function(e){var t=e.context,r=e.onError,o=e.request;function a(n){r(n&&n.stack&&n.message?n:new Error("string"==typeof n?n:"Unknown error"))}var u="undefined"!=typeof window,c=(null==o?void 0:o.url)?o.url:u?window.location.href:void 0,s=(0,i.__assign)({},n),l=new Map,d=new Map,f=new Map,v=function(n){var e;null===(e=l.get(n))||void 0===e||e.forEach((function(e){return e(w[n],m[n].loading,m[n].error)}))};function g(n){if(!(n in s))throw new Error('"'.concat(String(n),'" is not a valid state prop.\nDid you forget to set "').concat(String(n),'" to a value in your defaultState (including null or undefined) when calling configureState function?\nCurrent valid props are: ').concat(Object.keys(s).join(", ")))}var w=new Proxy(s,{get:function(n,e){return g(e),n[e]},set:function(n,e,t){return g(e),n[e]!==t&&(n[e]=t,v(e)),!0}}),h=function(n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return n?(g(n),[4,null===(e=d.get(n))||void 0===e?void 0:e.promise]):[3,2];case 1:return t.sent(),[2,s[n]];case 2:return[4,Promise.all(Array.from(d.values()).map((function(n){return n.promise})))];case 3:return t.sent(),[2,void 0]}}))}))},m=new Proxy({},{get:function(n,e){g(e);var t=d.get(e);return{error:null==t?void 0:t.error,loading:!!(null==t?void 0:t.loading)}}}),_=function(n,e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,r,o,c,l,f;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return g(n),t=d.get(n),u?[3,1]:(d.set(n,{loading:!0}),[3,7]);case 1:return(null==t?void 0:t.done)||(null==t?void 0:t.loading)?[3,7]:[3,2];case 2:return i.trys.push([2,6,,7]),r=e(),o=function(e){d.set(n,{loading:!1,done:!0}),w[n]=e},p(r)?(d.set(n,{loading:!0,promise:r}),v(n),c=o,[4,r]):[3,4];case 3:return c.apply(void 0,[i.sent()]),[3,5];case 4:o(r),i.label=5;case 5:return[3,7];case 6:return l=i.sent(),d.set(n,{loading:!1,done:!0,error:null!==(f=null==l?void 0:l.message)&&void 0!==f?f:l}),v(n),a(l),[3,7];case 7:return[2,s[n]]}}))}))},y={isBrowser:u,request:(0,i.__assign)((0,i.__assign)({},o),{url:c}),load:_,loaded:h,loader:m,state:w},S=new Proxy({},{get:function(n,e){if(void 0===n[e]){var r=null==t?void 0:t[e];if("function"==typeof r)try{r=r(y)}catch(n){a(n)}p(r)&&(f.set(e,r),r.catch(a)),n[e]=r}return n[e]},set:function(n,e){throw new Error("Cannot assign to read only context property '".concat(e.toString(),"'"))}});return Object.keys(t||{}).forEach((function(n){var e=null==t?void 0:t[n];p(e)&&(f.set(n,e),e.catch(a))})),{state:w,context:S,loader:m,booted:function(){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Promise.all(f.values())];case 1:return n.sent(),[2,!0];case 2:return n.sent(),[2,!1];case 3:return[2]}}))}))},on:function(n,e){if(!S)throw new Error('No context found in runtime, "on" is not allowed');if(!S[n])throw new Error("No context found in runtime for prop ".concat(String(n),"."));var t=Promise.resolve(S[n]).then((function(n){return e(n,w)})).catch(a);return function(){t.then((function(n){return null==n?void 0:n()})).catch(a)}},subscribe:function(n,e){var t;g(n);var r=null!==(t=l.get(n))&&void 0!==t?t:new Set;return r.add(e),l.set(n,r),function(){r.delete(e)}},loaded:h,load:_}}}(null!=a?a:n)({context:t,onError:r,request:u})};return o.log=r,{createRuntime:o}}}}}]);